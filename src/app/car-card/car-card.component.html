<ng-template #EditCar let-modal>
    <div style="margin:30px;" class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Add Car</h3>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="form-group col-md-4 col-sm-4 col-xs-4">
                    <label>Car Make</label>
                    <select [(ngModel)]="SelectedMake" name="CarMake" class="form-control" required>
                        <option value="All">-- All --</option>
                        <option *ngFor="let m of Make">{{m}}</option>
                    </select>
                </div>
                <div class="form-group col-md-4 col-sm-4 col-xs-4">
                    <label for="car_model">Car Model</label>
                    <input [(ngModel)]="SelectedModel" type="text" class="form-control" id="car_model" name="CarModel"
                        placeholder="Car Model" required>
                </div>
                <div class="form-group  col-md-4 col-sm-4 col-xs-4">
                    <label for="car_year">Car Year</label>
                    <select [(ngModel)]="SelectedYear" name="CarYear" class="form-control" required>
                        <option value="All">-- All --</option>
                        <option value='2022'>2022</option>
                        <option value='2021'>2021</option>
                        <option value='2020'>2020</option>
                        <option value='2019'>2019</option>
                        <option value='2018'>2018</option>
                        <option value='2017'>2017</option>
                        <option value='2016'>2016</option>
                        <option value='2015'>2015</option>
                        <option value='2014'>2014</option>
                        <option value='2013'>2013</option>
                        <option value='2012'>2012</option>
                        <option value='2011'>2011</option>
                        <option value='2010'>2010</option>
                        <option value='2009'>2009</option>
                        <option value='2008'>2008</option>
                        <option value='2007'>2007</option>
                        <option value='2006'>2006</option>
                        <option value='2005'>2005</option>
                        <option value='2004'>2004</option>
                        <option value='2003'>2003</option>
                        <option value='2002'>2002</option>
                        <option value='2001'>2001</option>
                        <option value='2000'>2000</option>
                        <option value='1999'>1999</option>
                        <option value='1998'>1998</option>
                        <option value='1997'>1997</option>
                        <option value='1996'>1996</option>
                        <option value='1995'>1995</option>
                        <option value='1994'>1994</option>
                        <option value='1993'>1993</option>
                        <option value='1992'>1992</option>
                        <option value='1990'>1990</option>
                        <option value='1989'>1989</option>
                        <option value='1987'>1987</option>
                        <option value='1984'>1984</option>
                        <option value='1978'>1978</option>
                    </select>
                </div>
                <div class="form-group  col-md-4 col-sm-4 col-xs-4">
                    <label for="car_price">Car Price</label>
                    <div class="row">
                        <div class="col-md-7 col-sm-7 col-xs-7">
                            <input [(ngModel)]="SelectedPrice" type="number" class="form-control" id="car_price"
                                name="CarPrice" placeholder="Car Price" required>
                        </div>
                        <div class="col-md-5 col-sm-5 col-xs-5">
                            <select [(ngModel)]="SelectedPriceType" name="CarPriceType" class="form-control" required>
                                <option value="AZN">AZN</option>
                                <option value="$">$</option>
                                <option value="EUR">EUR</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-group  col-md-4 col-sm-4 col-xs-4">
                    <label for="carEngineSize">Engine Size</label>
                    <select [(ngModel)]="SelectedSize" id="Power" name="carEngineSize" class="form-control" required>
                        <option value="All">-- All --</option>
                        <option *ngFor="let m of EngineSize">{{m}}</option>
                    </select>
                </div>
                <div class="form-group col-md-4 col-sm-4 col-xs-4">
                    <label for="carEnginePower"> Car Horse Power(HP)</label>
                    <input [(ngModel)]="SelectedPower" type="number" class="form-control" id="carEnginePower"
                        name="carEnginePower" placeholder="Car Engine Power" required>
                </div>
                <div class="form-group  col-md-4 col-sm-4 col-xs-4">
                    <label for="carMillage">Car Millage</label>
                    <input [(ngModel)]="SelectedMill" type="number" class="form-control" id="carMillage"
                        name="carMillage" placeholder="Car Millage" required>
                </div>
                <div class="form-group  col-md-4 col-sm-4 col-xs-4">
                    <label>Color</label>
                    <select [(ngModel)]="SelectedColor" name="CarColor" class="form-control" required>
                        <option value="All">-- All --</option>
                        <option *ngFor="let m of Color">{{m}}</option>

                    </select>
                </div>
                <div class="form-group  col-md-4 col-sm-4 col-xs-4">
                    <label>GearBox</label>
                    <select [(ngModel)]="SelectedGearBox" name="GearBox" class="form-control" required>
                        <option value="All">-- All --</option>
                        <option *ngFor="let m of Gearbox">{{m}}</option>
                    </select>
                </div>
                <div class="form-group  col-md-4 col-sm-4 col-xs-4">
                    <label>Fuel</label>
                    <select [(ngModel)]="SelectedFuel" name="Fuel" class="form-control" required>
                        <option value="All">-- All --</option>
                        <option *ngFor="let m of Fuel">{{m}}</option>

                    </select>
                </div>
                <div class="form-group  col-md-4 col-sm-4 col-xs-4">
                    <label>Car Type</label>
                    <select [(ngModel)]="SelectedCarType" name="CarType" class="form-control" required>
                        <option value="All">-- All --</option>
                        <option *ngFor="let m of CarType">{{m}}</option>

                    </select>
                </div>
                <div class="form-group  col-md-4 col-sm-4 col-xs-4">

                    <label for="car_image">City</label>
                    <select [(ngModel)]="SelectedCity" name="CarCity" class="form-control" required>
                        <option value="All">-- All --</option>
                        <option *ngFor="let c of City">{{c}}</option>

                    </select>
                </div>
                <div class="form-group  col-md-4 col-sm-4 col-xs-4">
                    <label>SellerName</label>
                    <input [(ngModel)]="SelectedSellerName" type="text" class="form-control" id="SellerName"
                        name="SellerName" placeholder="Car Seller Name" required>

                            <label>Phone Number</label>
                            <input [(ngModel)]="SelectedPhoneNumber" type="tel" placeholder="050-111-22-33" class="form-control"
                            id="Phone Number" name="PhoneNumber" required>
                            <small>Format: 050-111-22-33</small>
                            <br/>
                            <div class="d-flex">
                                <p>Status --></p>
                                <input [(ngModel)]="SelectedStatus" class="form-check-input" type="checkbox" />
                            </div>
                </div>
                <div class="form-group  col-md-4 col-sm-4 col-xs-4">
                    <label>Extras</label>
                    <select id="extras" style="height: 250px;" [(ngModel)]="selectedExtras" class="form-control"
                        multiple="">
                        <option value="ABS">ABS</option>
                        <option value="Arxa görüntü kamerası">Arxa görüntü kamerası</option>
                        <option value="Dəri salon">Dəri salon</option>
                        <option value="Kondisioner">Kondisioner</option>
                        <option value="Ksenon lampalar">Ksenon lampalar</option>
                        <option value="Lyuk">Lyuk</option>
                        <option value="Mərkəzi qapanma">Mərkəzi qapanma</option>
                        <option value="Oturacaqların isidilməsi">Oturacaqların isidilməsi</option>
                        <option value="Oturacaqların ventilyasiyası">Oturacaqların ventilyasiyası</option>
                        <option value="Park radarı">Park radarı</option>
                        <option value="Yağış sensoru">Yağış sensoru</option>
                        <option value="Yan pərdələr">Yan pərdələr</option>
                        <option value="Yüngül lehimli disklər">Yüngül lehimli disklər</option>
                    </select>
                </div>

                <div class="form-group  col-md-4 col-sm-4 col-xs-4">
                    <label for="car_description">Car Description</label>
                    <textarea [(ngModel)]="SelectedDes" style="resize: none;" class="form-control" id="car_description"
                        name="car_description" rows="10"></textarea>
                </div>
                <div class="form-group  col-md-4 col-sm-4 col-xs-4">
                </div>
                <button style="margin:30px 0 0 10px;" type="button" class="btn btn-primary" value="addCar"
                    (click)="EditCarClick()">Submit</button>

            </div>
        </div>
    </div>
</ng-template>



<div class="card text-center border border-primary shadow-0 " style="margin:30px 0 0 0 ;background-color:#ffffff;">
    <div class="bg-image hover-overlay ripple" data-mdb-ripple-color="light">
        <img style="max-height:300px;min-height:300px;object-fit:cover;" [src]="ImgName" class="img-fluid" />
        <a href="#!">
            <div class="mask" style="background-color: rgba(251, 251, 251, 0.15)"></div>
        </a>
    </div>

    <div class="card-body">
        <h5 class="card-title">{{Car.Make+" "+Car.Model}}</h5>
        <div style="top:10px;left:5px;" class="overlay-content"><strong><i class="fa fa-dashboard"></i>
                {{Car.Milage+" KM"}}</strong> &nbsp;&nbsp;<strong><i
                    class="fa fa-cube"></i>{{Car.Engine}}</strong>&nbsp;&nbsp;<strong><i class="fa fa-cog"></i>
                {{Car.Gearbox}}</strong>&nbsp;&nbsp;<strong><i class="fa fa-map-marker"></i>
                {{Car.SellerCity}}</strong>&nbsp;
            <p><span><strong>{{Car.Price + Car.PriceType}}</strong></span></p>
            <p>{{Car.EnginePower+" Hp"}}
                / {{Car.Fuel}} / {{Car.Year}} / {{ (Car.IsSalon==1) ?"New Vehicle":'UsedVehicle'}}</p>
        </div>

        <div class="row justify-content-around">
            <button routerLinkActive="active" [routerLink]="['../cardetail/',Car.id]" type="button"
                class="btn btn-primary col-md-3">View Details</button>

            <button (click)="RemoveFavClick()" *ngIf="IsFav && FavUser" type="button"
                class="btn btn-primary col-md-3">Remove Favorite</button>
            <button (click)="AddFavClick()" *ngIf="!IsFav && FavUser" type="button" class="btn btn-primary col-md-3">Add
                Favorite</button>

            <button (click)="openXl(EditCar)" *ngIf="FavUser && LoginedUserId==CarUserId" type="button"
                class="btn btn-primary col-md-3">
                Edit Car</button>
        </div>
    </div>
</div>